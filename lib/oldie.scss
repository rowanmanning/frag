
// Define a grid class
@mixin frag-oldie ($class, $max-width, $col-prefix, $count, $gutter: 40px) {

    // Grid
    .#{$class} {
        width: $max-width;
    }

    // Loop columns and provide individual widths
    @for $i from 1 through $count {
        .#{$col-prefix}#{$i} {
            $single-col-width: floor($max-width / $count);
            width: ($single-col-width * $i) - $gutter;
        }
    }

    // Generate column selector
    $column-selector: ();
    @for $i from 1 through $count {
        $column-selector: $column-selector, unquote(".#{$col-prefix}#{$i}");
    }

    // Flatten nested grids
    .#{$class} .#{$class} {
        width: auto;
        #{$column-selector} {
            width: auto;
            float: none;
        }
    }

}
